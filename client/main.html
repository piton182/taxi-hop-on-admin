<head>
  <title>hop-on-taxi</title>
</head>

<body>
  {{> hello}}
</body>

<template name="hello">
  <div class="container">
    <table>
    <tr>
      <td valign="top" style="padding: 20px">
        {{#if editing}}
          <h2>Editing ride #{{rideBeingEdited.bkn_ref}}</h2>
        {{else}}
          <h2>New Ride</h2>
        {{/if}}

        <table class="table table-striped">
          <tr>
            <td>
              <label>Name</label>
            </td>
            <td>
              <input
                type="text"
                class="js-rideform-field-name"
                placeholder="Name"
                value="{{rideFormModel.name}}"
                tabindex="1"/>
            </td>
          </tr>
          <tr>
            <td>
              <label>Phone</label>
            </td>
            <td>
              <input
                type="text"
                class="js-rideform-field-phone"
                placeholder="Phone"
                value="{{rideFormModel.phone}}"
                tabindex="2"/>
            </td>
          </tr>
          <tr>
            <td>
              <label>Date/time</label>
            </td>
            <td>
              <input
                type="text"
                id="my-datepicker"
                class="js-rideform-field-datetime"
                placeholder="Date and time"
                value="{{rideFormModel.datetime}}"
                tabindex="3">
            </td>
          </tr>
          <tr>
            <td>
              <label>From</label>
            </td>
            <td>
              <input
                type="text"
                class="js-rideform-field-from"
                placeholder="Address"
                value="{{rideFormModel.from}}"
                tabindex="4"/>
            </td>
          </tr>
          <tr>
            <td>
              <label>To</label>
            </td>
            <td>
              <input
                type="text"
                class="js-rideform-field-to"
                placeholder="Airport"
                value="{{rideFormModel.to}}"
                tabindex="5"/>
            </td>
          </tr>
          <tr>
            <td>
              {{#unless editing}}
                <a href="#" class="js-rideform-fake" tabindex="0">Fake one</a>
              {{/unless}}
            </td>
            <td style="text-align: right">
              {{#if editing}}
                <a
                  href="#"
                  class="js-editride-cancel"
                  tabindex="6">Cancel</a>
                <button class="js-editride-save" tabindex="7">Save</button>
              {{else}}
                <button
                  class="js-rideform-submit"
                  tabindex="6">Submit</button>
              {{/if}}
            </td>
          </tr>
        </table>
      </td>
      <td style="padding: 20px">
        <!-- *********** -->
        <!-- Rides table -->
        <!-- *********** -->
        <h2>Rides</h2>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>bkn #</th>
              <th>Name</th>
              <th>Date/Time</th>
              <th>From</th>
              <th>To</th>
              <th>Co-riders</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {{#if isRidesEmpty}}
              <span style="color: red">No rides</span>
            {{/if}}
            {{#each rides}}
                <tr>
                  <td>{{bkn_ref}}</td>
                  <td>{{name}} ({{phone}})</td>
                  <td>{{datetime}}</td>
                  <td>{{from}}</td>
                  <td>{{to}}</td>
                  <td>{{coriders}}</td>
                  <td>
                    {{#if editing}}
                      {{#if editingThisRide}}
                        <span>editing...</span>
                      {{/if}}
                    {{else}}
                      <a href="#" class="js-edit-ride">Edit</a> | <a href="#" class="js-delete-ride">Delete</a>
                    {{/if}}
                  </td>
                </tr>
            {{/each}}
          </tbody>
        </table>
      </td>
    </tr>
    </table>
  </div>
</template>
